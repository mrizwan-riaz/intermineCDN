!function(){var a=function(b,c,d){var e=a.resolve(b);if(null===e){d=d||b,c=c||"root";var f=new Error('Failed to require "'+d+'" from "'+c+'"');throw f.path=d,f.parent=c,f.require=!0,f}var g=a.modules[e];if(!g._resolving&&!g.exports){var h={};h.exports={},h.client=h.component=!0,g._resolving=!0,g.call(this,h.exports,a.relative(e),h),delete g._resolving,g.exports=h.exports}return g.exports};a.modules={},a.aliases={},a.resolve=function(b){"/"===b.charAt(0)&&(b=b.slice(1));for(var c=[b,b+".js",b+".json",b+"/index.js",b+"/index.json"],d=0;d<c.length;d++){if(b=c[d],a.modules.hasOwnProperty(b))return b;if(a.aliases.hasOwnProperty(b))return a.aliases[b]}},a.normalize=function(a,b){var c=[];if("."!=b.charAt(0))return b;a=a.split("/"),b=b.split("/");for(var d=0;d<b.length;++d)".."==b[d]?a.pop():"."!==b[d]&&""!==b[d]&&c.push(b[d]);return a.concat(c).join("/")},a.register=function(b,c){a.modules[b]=c},a.alias=function(b,c){if(!a.modules.hasOwnProperty(b))throw new Error('Failed to alias "'+b+'", it does not exist');a.aliases[c]=b},a.relative=function(b){function c(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}var d=a.normalize(b,".."),e=function(c){var d=e.resolve(c);return a(d,b,c)};return e.resolve=function(e){var f=e.charAt(0);if("/"==f)return e.slice(1);if("."==f)return a.normalize(d,e);var g=b.split("/"),h=c(g,"deps")+1;return h||(h=0),e=g.slice(0,h+1).join("/")+"/deps/"+e},e.exists=function(b){return a.modules.hasOwnProperty(e.resolve(b))},e};var b=this;b.require="undefined"!=typeof b.require?b.require:a,function(){b.require.register("component-400/src/app.js",function(a,b,c){var d,e,f,g;g=b("./modules/deps").mori,f=b("./modules/mediator"),d=b("./views/app"),e=b("./models/database"),c.exports=function(a){var c;if(!a.cb)throw"Provide your own callback function";return a.formatter&&(b("./modules/formatter").primary=a.formatter),c=new e(a.data||[]),f.on("object:click",a.portal||function(){},this),f.on("app:save",function(){return a.cb(null,g.into_array(c.selected))},this),new d({el:a.target||"body",db:c})}}),b.require.register("component-400/src/models/database.js",function(a,b,c){var d,e,f,g,h,i,j={}.hasOwnProperty;i=b("../modules/deps"),h=i._,g=i.mori,f=b("../modules/mediator"),d=function(){function a(a){var b,c,d,i,k,l,m,n=this;this.data=a,this.type=this.data.type,this.duplicates=this.data.matches.DUPLICATE||[],this.matches=function(){var a,c,d,f;for(d=["MATCH","TYPE_CONVERTED","OTHER"],f=[],a=0,c=d.length;c>a;a++)k=d[a],null!=(b=this.data.matches[k])&&b.length&&(i=e[k](this.type),f.push({name:i,collection:b,reason:k}));return f}.call(this),(b=this.data.unresolved).length&&this.matches.push({reason:"UNRESOLVED",collection:b}),this.selected=g.set(),c=function(a){var b,d,e,f,i,k,l;switch(!1){case!h.isArray(a):for(k=[],f=0,i=a.length;i>f;f++)b=a[f],k.push(c(b));return k;case!h.isObject(a):if(h.has(a,"id"))return n.selected=g.conj(n.selected,a.id);l=[];for(d in a)j.call(a,d)&&(e=a[d],l.push(c(e)));return l}},m=this.data.matches;for(d in m)j.call(m,d)&&(l=m[d],"DUPLICATE"!==d&&c(l));f.on("item:toggle",function(a,b){var c;return c=["disj","conj"][+a],this.selected=g[c](this.selected,b)},this)}return a}(),e={MATCH:function(){return"direct hit"},TYPE_CONVERTED:function(a){return"non-"+a+" identifier"},OTHER:function(){return"synonym"},WILDCARD:function(){return"wildcard"}},c.exports=d}),b.require.register("component-400/src/models/tooltips.js",function(a,b,c){c.exports={1:"These identifiers matched more than one record in the database. Click on the ADD button next to the identifier you want to include in your list.",provided:"These are the identifiers you typed in the form on the previous page.",add:"Use these buttons to add (or remove) this record to your list.",matches:"These are the records in the database that correspond to the identifier you entered on the previous page.",2:"This is a summary of what is in your list.",match:"An exact match was found between what you entered and what is in our database.",type_converted:"These identifiers matched records in our database but were not the type of data you specified on the previous page.",other:"These identifiers matched old identifiers.",4:"Identifiers that could not be resolved.",5:"Multiple identifiers matched an object."}}),b.require.register("component-400/src/modules/deps.js",function(a,b,c){c.exports={_:_,mori:mori,BackboneEvents:BackboneEvents,saveAs:saveAs,csv:csv,$:$}}),b.require.register("component-400/src/modules/formatter.js",function(a,b,c){var d;d=b("./deps")._,c.exports={primary:function(a){var b,c,d,e,f,g,h,i,j;for(i=["symbol","primaryIdentifier","secondIdentifier","name"],g=0,h=i.length;h>g;g++)if(c=i[g],f=a.summary[c])return f;f=[0,"NA"],j=a.summary;for(b in j)e=j[b],e&&(d=(""+e).replace(/\W/,"").length)>f[0]&&(f=[d,e]);return f[1]},csv:function(a,b){var c,e,f;return b||(b=d.keys(a.summary)),e=function(){var d,e,g;for(g=[],d=0,e=b.length;e>d;d++)c=b[d],g.push((f=a.summary[c])?f:"");return g}(),[b,e]},flyout:function(a){var b,c,d,e,f;b=function(a){return a.replace(/\./g," ").replace(/([A-Z])/g," $1").toLowerCase()},e=a.summary,f=[];for(c in e)d=e[c],d&&f.push([b(c),d]);return f}}}),b.require.register("component-400/src/modules/mediator.js",function(a,b,c){var d;d=b("./deps").BackboneEvents,c.exports=_.extend({},d)}),b.require.register("component-400/src/modules/slicer.js",function(a,b,c){c.exports=function(a,b,c,d){var e,f,g,h,i,j,k;for(k=[],h=0,i=a.length;i>h;h++)if(g=a[h],j=g.range,e=j[0],f=j[1],e>=b)if(e===b){if(!(c>=f)){d.call(this,g,0,c-e);break}if(d.call(this,g,0,g.matches.length-1),f===c)break;k.push(void 0)}else{if(f>c){d.call(this,g,0,c-e);break}if(d.call(this,g,0,g.matches.length-1),f===c)break;k.push(void 0)}else{if(!(c>=f)){d.call(this,g,b-e,c-e);break}if(d.call(this,g,b-e,g.matches.length-1),f===c)break;k.push(void 0)}return k}}),b.require.register("component-400/src/modules/view.js",function(a,b,c){var d,e,f;d=b("./deps").$,f=0,e=function(){function a(a){var b,c,e,g,h,i,j=this;this.cid="c"+f++,this.options={};for(e in a)switch(g=a[e],e){case"collection":case"model":this[e]=g;break;case"el":this.el=d(g);break;default:this.options[e]=g}this.el instanceof d||(this.el=d("<"+this.tag+"/>")),i=this.events,h=function(a,b){var c,d,e;return e=a.match(j.splitter).slice(1),c=e[0],d=e[1],j.el.on(c,d,function(){return j[b].apply(j,arguments)})};for(b in i)c=i[b],h(b,c);this.views=[],this.autoRender&&this.render()}return a.prototype.autoRender=!1,a.prototype.splitter=/^(\S+)\s*(.*)$/,a.prototype.tag="div",a.prototype.template=function(){return""},a.prototype.render=function(){switch(!1){case!this.collection:this.el.html(this.template({collection:JSON.parse(JSON.stringify(this.collection))}));break;case!this.model:this.el.html(this.template(JSON.parse(JSON.stringify(this.model))));break;default:this.el.html(this.template())}return this},a.prototype.dispose=function(){var a,b,c,d;for(d=this.views,b=0,c=d.length;c>b;b++)a=d[b],a.dispose();return this.el.remove()},a}(),c.exports=e}),b.require.register("component-400/src/templates/app.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=a.safe,e=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},e||(e=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){}).call(this)}.call(a),a.safe=d,a.escape=e,c.join("")}}),b.require.register("component-400/src/templates/duplicates/row.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=function(a){return a&&a.ecoSafe?a:"undefined"!=typeof a&&null!=a?f(a):""},e=a.safe,f=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},f||(f=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){this.input&&(c.push('\n    <td rowspan="'),c.push(d(this.rowspan)),c.push('" class="'),c.push(d(this["class"])),c.push('">\n        '),c.push(this.input),c.push("\n        "),this.continuing&&c.push("<em>cont.</em>"),c.push("\n    </td>\n")),c.push("\n<td>\n    <a>"),c.push(this.matched),c.push('</a>\n    <span class="help-flyout"></span>\n</td>\n'),this.selected?c.push('\n    <td><span class="tiny secondary button">Remove</span></td>\n'):c.push('\n    <td><span class="tiny success button">Add</span></td>\n')}).call(this)}.call(a),a.safe=e,a.escape=f,c.join("")}}),b.require.register("component-400/src/templates/duplicates/table.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=a.safe,e=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},e||(e=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push('<header>\n    <span class="small secondary remove-all button">Remove all</span>\n    <span class="small success add-all button">Add all</span>\n    <h2>Multiple matches</h2>\n    <span data-id="1" class="help"></span>\n</header>\n\n<div class="paginator"></div>\n\n<table class="striped">\n    <thead>\n        <tr>\n            <th>Identifier you provided</th>\n            <th>Matches <span data-id="matches" class="help"></span></th>\n            <th>Action <span data-id="add" class="help"></span></th>\n        </tr>\n    </thead>\n    <tbody></tbody>\n</table>')}).call(this)}.call(a),a.safe=d,a.escape=e,c.join("")}}),b.require.register("component-400/src/templates/flyout.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=a.safe,e=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},e||(e=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var a,b,d,e,f,g,h;for(c.push("<table>\n    "),h=this.rows,d=0,f=h.length;f>d;d++){for(b=h[d],c.push("\n        <tr>\n            "),e=0,g=b.length;g>e;e++)a=b[e],c.push("\n                <td>"),c.push(a),c.push("</td>\n            ");c.push("\n        </tr>\n    ")}c.push("\n</table>")}).call(this)}.call(a),a.safe=d,a.escape=e,c.join("")}}),b.require.register("component-400/src/templates/header.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=function(a){return a&&a.ecoSafe?a:"undefined"!=typeof a&&null!=a?f(a):""},e=a.safe,f=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},f||(f=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push("<header>\n    "),1===this.selected?(c.push('\n        <a class="success button save">Save a list of 1 '),c.push(d(this.type)),c.push("</a>\n    ")):(c.push('\n        <a class="success button save">Save a list of '),c.push(d(this.selected)),c.push(" "),c.push(d(this.type)),c.push("s</a>\n    ")),c.push("\n\n    <table>\n        <tr>\n            <td>You entered:</td>\n            <td>"),c.push(d(this.entered)),c.push(" identifier"),1!==this.entered&&c.push("s"),c.push("</td>\n        </tr>\n        <tr>\n            <td>We found:</td>\n            <td>"),c.push(d(this.found)),c.push(" "),c.push(d(this.type)),1!==this.found&&c.push("s"),c.push("</td>\n        </tr>\n    </table>\n\n    "),this.entered!==this.found&&c.push("\n        <p>Why are the numbers different? See below.</p>\n    "),c.push("\n</header>")}).call(this)}.call(a),a.safe=e,a.escape=f,c.join("")}}),b.require.register("component-400/src/templates/paginator.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=function(a){return a&&a.ecoSafe?a:"undefined"!=typeof a&&null!=a?f(a):""},e=a.safe,f=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},f||(f=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var a,b,e,f,g,h,i,j;if(c.push("<!-- does it make sense to show a perPage switcher? -->\n"),this.total>5){for(c.push('\n    <div class="small button dropdown secondary right">\n        '),c.push(d(this.perPage)),c.push(' rows per page\n        <ul class="no-hover">\n            '),i=[5,10,20,50,100],e=0,g=i.length;g>e;e++)a=i[e],a<=this.total&&(c.push("\n                "),a!==this.perPage&&(c.push('\n                    <li data-action="resize" data-n="'),c.push(d(a)),c.push('">\n                        <a>Show '),c.push(d(a)),c.push(" rows</a>\n                    </li>\n                ")),c.push("\n            "));c.push("\n            <!-- show all rows? -->\n            "),this.total<=50&&this.total!==this.perPage&&(c.push('\n                <li class="divider"></li>\n                <li data-action="resize" data-n="'),c.push(d(this.total)),c.push('">\n                    <a>Show all rows</a>\n                </li>\n            ')),c.push("\n        </ul>\n    </div>\n")}if(c.push('\n\n<!-- do we need to show a paginator? -->\n<ul class="pagination">\n    '),this.pages>1){for(c.push('\n        <li class="unavailable"><a>Page '),c.push(d(this.current)),c.push(" of "),c.push(d(this.pages)),c.push("</a></li>\n        "),1===this.current?c.push('\n            <li class="unavailable arrow"><a>&lsaquo;</a></li>\n        '):c.push('\n            <li class="arrow" data-action="prev" title="Previous"><a>&lsaquo;</a></li>\n        '),c.push("\n\n        "),j=this.range,f=0,h=j.length;h>f;f++)b=j[f],c.push("\n            "),null===b?c.push('\n                <li class="unavailable"><a>&hellip;</a></li>\n            '):(c.push('\n                <li data-action="select" data-n="'),c.push(d(b)),c.push('"\n                    '),b===this.current&&c.push('\n                        class="current"\n                    '),c.push("\n                ><a>"),c.push(d(b)),c.push("</a></li>\n            ")),c.push("\n        ");c.push("\n\n        "),this.current===this.pages?c.push('\n            <li class="unavailable arrow"><a>&rsaquo;</a></li>\n        '):c.push('\n            <li class="arrow" data-action="next" title="Next"><a>&rsaquo;</a></li>\n        '),c.push("\n    ")}c.push("\n</ul>")}).call(this)}.call(a),a.safe=e,a.escape=f,c.join("")}}),b.require.register("component-400/src/templates/summary/tab.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=function(a){return a&&a.ecoSafe?a:"undefined"!=typeof a&&null!=a?f(a):""},e=a.safe,f=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},f||(f=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push("<a>"),c.push(d(this.name)),c.push('s <span data-id="'),c.push(d(this.reason)),c.push('" class="help"></span></a>')}).call(this)}.call(a),a.safe=e,a.escape=f,c.join("")}}),b.require.register("component-400/src/templates/summary/tabs.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=a.safe,e=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},e||(e=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push('<header>\n    <span class="small download button">Download summary</span>\n    <h2>Summary</h2>\n    <span data-id="2" class="help"></span>\n</header>\n<dl class="tabs contained"></dl>\n<ul class="tabs-content contained"></ul>')}).call(this)}.call(a),a.safe=d,a.escape=e,c.join("")}}),b.require.register("component-400/src/templates/table/many-to-one-row.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=function(a){return a&&a.ecoSafe?a:"undefined"!=typeof a&&null!=a?f(a):""},e=a.safe,f=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},f||(f=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var a,b,e,f;if(this.input){for(c.push('\n    <td rowspan="'),c.push(d(this.rowspan)),c.push('" class="'),c.push(d(this["class"])),c.push('">\n        <ul class="inline">\n            '),f=this.input,b=0,e=f.length;e>b;b++)a=f[b],c.push("\n                <li>"),c.push(a),c.push("</li>\n            ");c.push("\n        </ul>\n        "),1!==this.input.length&&c.push('\n            <span data-id="5" class="help"></span>\n        '),c.push("\n    </td>\n")}c.push("\n<td>\n    <a>"),c.push(this.matched),c.push('</a>\n    <span class="help-flyout"></span>\n</td>')}).call(this)}.call(a),a.safe=e,a.escape=f,c.join("")}}),b.require.register("component-400/src/templates/table/one-to-many-row.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=function(a){return a&&a.ecoSafe?a:"undefined"!=typeof a&&null!=a?f(a):""},e=a.safe,f=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},f||(f=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){this.input&&(c.push('\n    <td rowspan="'),c.push(d(this.rowspan)),c.push('" class="'),c.push(d(this["class"])),c.push('">\n        '),c.push(this.input),c.push("\n        "),this.continuing&&c.push("<em>cont.</em>"),c.push("\n    </td>\n")),c.push("\n<td>\n    <a>"),c.push(this.matched),c.push('</a>\n    <span class="help-flyout"></span>\n</td>')}).call(this)}.call(a),a.safe=e,a.escape=f,c.join("")}}),b.require.register("component-400/src/templates/table/table.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=a.safe,e=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},e||(e=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push('<div class="paginator"></div>\n\n<table class="striped">\n    <thead>\n        <tr>\n            <th>Identifier you provided</th>\n            <th>Match <span data-id="matches" class="help"></span></th>\n        </tr>\n    </thead>\n    <tbody></tbody>\n</table>')}).call(this)}.call(a),a.safe=d,a.escape=e,c.join("")}}),b.require.register("component-400/src/templates/tooltip.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=a.safe,e=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},e||(e=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push(this.text),c.push('<span class="nub" style="top: auto; bottom: -10px; left: auto; right: auto;"></span>')}).call(this)}.call(a),a.safe=d,a.escape=e,c.join("")}}),b.require.register("component-400/src/templates/unresolved.js",function(a,b,c){c.exports=function(a){a||(a={});var b,c=[],d=function(a){return a&&a.ecoSafe?a:"undefined"!=typeof a&&null!=a?f(a):""},e=a.safe,f=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},f||(f=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var a,b,e,f;for(c.push('<header>\n    <h2>No matches found</h2>\n    <span data-id="4" class="help"></span>\n</header>\n\n<ul class="inline">\n    '),f=this.collection,b=0,e=f.length;e>b;b++)a=f[b],c.push("\n        <li>"),c.push(d(a)),c.push("</li>\n    ");c.push("\n</ul>")}).call(this)}.call(a),a.safe=e,a.escape=f,c.join("")}}),b.require.register("component-400/src/views/app.js",function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n={}.hasOwnProperty,o=function(a,b){function c(){this.constructor=a}for(var d in b)n.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("../modules/deps").$,l=b("../modules/mediator"),k=b("../modules/view"),g=b("./header"),f=b("./duplicates"),j=b("./unresolved"),h=b("./summary"),g=b("./header"),i=b("./tooltip"),e=function(a){function c(){return m=c.__super__.constructor.apply(this,arguments)}return o(c,a),c.prototype.autoRender=!0,c.prototype.template=b("../templates/app"),c.prototype.events={"mouseover .help":"toggleTooltip","mouseout  .help":"toggleTooltip"},c.prototype.render=function(){var a;return c.__super__.render.apply(this,arguments),this.el.append(new g({db:this.options.db}).render().el),(a=this.options.db.duplicates).length&&this.el.append(new f({collection:a}).render().el),this.el.append(new h({matches:this.options.db.matches}).render().el),(a=this.options.db.data.unresolved).length&&this.el.append(new j({collection:a}).render().el),this},c.prototype.toggleTooltip=function(a){var b,c,e,f,g,h,j;switch(a.type){case"mouseover":return b=(c=d(a.target)).data("id"),this.views.push(e=new i({model:{id:b}})),c.append(e.render().el);case"mouseout":for(h=this.views,j=[],f=0,g=h.length;g>f;f++)e=h[f],j.push(e.dispose());return j}},c}(k),c.exports=e}),b.require.register("component-400/src/views/duplicates.js",function(a,b,c){var d,e,f,g,h,i,j,k,l,m={}.hasOwnProperty,n=function(a,b){function c(){this.constructor=a}for(var d in b)m.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};i=b("../modules/formatter"),j=b("../modules/mediator"),h=b("../modules/view"),f=b("../views/flyout"),g=b("../views/table"),d=function(a){function c(){return k=c.__super__.constructor.apply(this,arguments)}return n(c,a),c.prototype.template=b("../templates/duplicates/row"),c.prototype.events={"click .button":"toggle","mouseover .help-flyout":"toggleFlyout","mouseout .help-flyout":"toggleFlyout","click a":"portal"},c.prototype.toggle=function(){var a;return null==(a=this.model).selected&&(a.selected=!1),this.model.selected=!this.model.selected,j.trigger("item:toggle",this.model.selected,this.model.id),this.render()},c}(g.TableRowView),e=function(a){function c(){return l=c.__super__.constructor.apply(this,arguments)}return n(c,a),c.prototype.template=b("../templates/duplicates/table"),c.prototype.rowClass=d,c.prototype.events={"click .button.add-all":"addAll","click .button.remove-all":"removeAll"},c.prototype.render=function(){return this.el.addClass("duplicates section"),c.__super__.render.apply(this,arguments)},c.prototype.addAll=function(){return this.doAll(!0)},c.prototype.removeAll=function(){return this.doAll(!1)},c.prototype.doAll=function(a){var b,c,d,e,f,g,h,i;for(h=this.collection,d=0,f=h.length;f>d;d++)for(b=h[d],i=b.matches,e=0,g=i.length;g>e;e++)c=i[e],j.trigger("item:toggle",c.selected=a,c.id);return this.renderPage.apply(this,this.range)},c}(g.OtMTableView),c.exports=e}),b.require.register("component-400/src/views/flyout.js",function(a,b,c){var d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=b("../modules/formatter"),e=b("../modules/view"),d=function(a){function c(){c.__super__.constructor.apply(this,arguments),this.el.addClass("flyout")}return h(c,a),c.prototype.template=b("../templates/flyout"),c.prototype.render=function(){return this.el.html(this.template({rows:f.flyout(this.model)})),this},c}(e),c.exports=d}),b.require.register("component-400/src/views/header.js",function(a,b,c){var d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=b("../modules/mediator"),e=b("../modules/view"),d=function(a){function c(){c.__super__.constructor.apply(this,arguments),this.found=mori.count(this.options.db.selected),f.on("item:toggle",this.render,this)}return h(c,a),c.prototype.template=b("../templates/header"),c.prototype.events={"click .button.save":"save"},c.prototype.render=function(){return this.el.addClass("header section"),this.el.html(this.template({selected:mori.count(this.options.db.selected),type:this.options.db.type,entered:this.options.db.data.stats.identifiers.all,found:this.found})),this},c.prototype.save=function(){return f.trigger("app:save")},c}(e),c.exports=d}),b.require.register("component-400/src/views/paginator.js",function(a,b,c){var d,e,f,g,h,i,j={}.hasOwnProperty,k=function(a,b){function c(){this.constructor=a}for(var d in b)j.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};i=b("../modules/deps"),d=i.$,h=i._,g=b("../modules/mediator"),f=b("../modules/view"),e=function(a){function c(){var a,b,d;c.__super__.constructor.apply(this,arguments),null==(a=this.options).total&&(a.total=0),null==(b=this.options).perPage&&(b.perPage=5),null==(d=this.options).current&&(d.current=1)}return k(c,a),c.prototype.template=b("../templates/paginator"),c.prototype.events={"click a":"onclick","click div.dropdown":"dropdown"},c.prototype.render=function(){var a,b,c=this;return this.options.pages=Math.ceil(this.options.total/this.options.perPage),function(){var a,b,d,e,f,g,i,j,k,l,m;if(c.options.range=[],1!==c.options.pages){for(d=c.options.current-2,b=c.options.current+2,(a=c.options.pages-b)<0&&(d+=a),(a=1-d)>0&&(b+=a),g=function(){l=[];for(var a=k=Math.max(1,d),e=Math.min(c.options.pages,b);e>=k?e>=a:a>=e;e>=k?a++:a--)l.push(a);return l}.apply(this),g.push(1),g.push(c.options.pages),g=h.unique(g).sort(function(a,b){return a-b}),c.options.range=[],f=g[0]-1,m=[],i=0,j=g.length;j>i;i++){if(e=g[i],f)switch(!1){case f+2!==e:c.options.range.push(f+1);break;case!(e>f+1):c.options.range.push(null)}m.push(c.options.range.push(f=e))}return m}}(),this.el.html(this.template(this.options)),b=Math.min((a=(this.options.current-1)*this.options.perPage)+this.options.perPage,this.options.total),g.trigger("page:change",this.cid,a,b),this},c.prototype.onclick=function(a){var b,c;switch(b=(c=d(a.target).closest("li")).data("action")){case"select":case"resize":this[b](parseInt(c.data("n")));break;case"first":case"prev":case"next":case"last":this[b]()}return this.render(),a.preventDefault(),!1},c.prototype.first=function(){return this.select(0)},c.prototype.prev=function(){return this.select(Math.max(1,this.options.current-1))},c.prototype.next=function(){return this.select(Math.min(this.options.pages,this.options.current+1))},c.prototype.last=function(){return this.select(this.options.pages-1)},c.prototype.select=function(a){return this.options.current=a},c.prototype.resize=function(a){var b;return b=1+this.options.perPage*(this.options.current-1),this.options.perPage=a,this.options.current=Math.ceil(b/this.options.perPage)},c.prototype.dropdown=function(){return this.el.find(".dropdown ul").toggleClass("show-dropdown")},c}(f),c.exports=e}),b.require.register("component-400/src/views/summary.js",function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q={}.hasOwnProperty,r=function(a,b){function c(){this.constructor=a}for(var d in b)q.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};o=b("../modules/deps"),n=o._,j=o.csv,m=o.saveAs,l=b("../modules/mediator"),k=b("../modules/formatter"),i=b("../modules/view"),h=b("./table"),d=function(a){function c(){return p=c.__super__.constructor.apply(this,arguments)}return r(c,a),c.prototype.template=b("../templates/summary/tabs"),c.prototype.events={"click .button.download":"download"},c.prototype.render=function(){var a,b,c,d,h,i,j,k,m,o,p,q;for(this.el.addClass("summary section"),this.el.html(this.template()),j=this.el.find(".tabs"),c=this.el.find(".tabs-content"),i=n.once(function(a){return l.trigger("tab:switch",a)}),p=this.options.matches,m=0,o=p.length;o>m;m++)q=p[m],d=q.name,b=q.collection,h=q.reason,"UNRESOLVED"!==h&&(this.views.push(k=new f({model:{name:d,reason:h.toLowerCase()},reason:h})),j.append(k.render().el),a="MATCH"===h?e:g,this.views.push(k=new a({collection:b,reason:h})),c.append(k.render().el),i(h));return this},c.prototype.download=function(){var a,b,c,d,e,f,g,h,i,l,o,p,q,r,s,t,u,v,w,x,y,z;for(d=null,l=[],a=function(a,b,c){var e,f;return f=k.csv(a,d),d=f[0],e=f[1],l.push([b,i,c].concat(e))},w=this.options.matches,o=0,s=w.length;s>o;o++)for(x=w[o],c=x.collection,i=x.reason,p=0,t=c.length;t>p;p++)switch(g=c[p],i){case"MATCH":for(y=g.input,q=0,u=y.length;u>q;q++)f=y[q],a(g,f,1);break;case"UNRESOLVED":l.push([g,i,0]);break;default:for(z=g.matches,r=0,v=z.length;v>r;r++)h=z[r],a(h,g.input,g.matches.length)}return d=["input","reason","matches"].concat(d),e=j(n.map(l,function(a){return n.zipObject(d,a)})),b=new Blob([e],{type:"text/csv;charset=utf-8"}),m(b,"summary.csv")},c}(i),f=function(a){function c(){c.__super__.constructor.apply(this,arguments),l.on("tab:switch",function(a){return this.el.toggleClass("active",this.options.reason===a)},this)}return r(c,a),c.prototype.template=b("../templates/summary/tab"),c.prototype.tag="dd",c.prototype.events={"click *":"onclick"},c.prototype.onclick=function(){return l.trigger("tab:switch",this.options.reason)},c}(i),g=function(a){function b(){l.on("tab:switch",function(a){return this.el.toggleClass("active",this.options.reason===a)},this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.tag="li",b}(h.OtMTableView),e=function(a){function b(){l.on("tab:switch",function(a){return this.el.toggleClass("active",this.options.reason===a)},this),b.__super__.constructor.apply(this,arguments)}return r(b,a),b.prototype.tag="li",b}(h.MtOTableView),c.exports=d}),b.require.register("component-400/src/views/table.js",function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r={}.hasOwnProperty,s=function(a,b){function c(){this.constructor=a}for(var d in b)r.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};o=b("../modules/deps"),n=o._,c=o.$,l=b("../modules/mediator"),k=b("../modules/formatter"),j=b("../modules/view"),h=b("./paginator"),d=b("./flyout"),m=b("../modules/slicer"),i=function(a){function e(){return p=e.__super__.constructor.apply(this,arguments)}return s(e,a),e.prototype.template=b("../templates/table/one-to-many-row"),e.prototype.tag="tr",e.prototype.events={"mouseover .help-flyout":"toggleFlyout","mouseout .help-flyout":"toggleFlyout","click a":"portal"},e.prototype.render=function(){var a;return a=k.primary(this.model),this.el.html(this.template(n.extend({},this.model,this.options,{matched:a}))),this},e.prototype.toggleFlyout=function(a){var b,e,f,g,h;switch(a.type){case"mouseover":return this.views.push(b=new d({model:this.model})),c(a.target).append(b.render().el);case"mouseout":for(g=this.views,h=[],e=0,f=g.length;f>e;e++)b=g[e],h.push(b.dispose());return h}},e.prototype.portal=function(a){return l.trigger("object:click",this.model,a.target)},e}(j),g=function(a){function c(){var a=this;c.__super__.constructor.apply(this,arguments),this.pagin=new h({total:function(){var b;return b=0,n.reduce(a.collection,function(a,c){return a+=c.length=c.matches.length,c.range=[b,a-1],b=a,a},0)}()}),l.on("page:change",function(a,b,c){return a===this.pagin.cid?this.renderPage.call(this,b,c-1):void 0},this)}return s(c,a),c.prototype.template=b("../templates/table/table"),c.prototype.rowClass=i,c.prototype.render=function(){return this.el.html(this.template()),this.el.find(".paginator").html(this.pagin.render().el),this},c.prototype.renderPage=function(a,b){var c,d,e,f,g,h;for(d=this.el.find("tbody"),this.range=[a,b],h=this.views,f=0,g=h.length;g>f;f++)e=h[f],e.dispose();
return c=0,m.apply(this,[this.collection].concat(this.range,function(a,b,f){var g,h,i,j,k;g=a.input,i=a.matches,k=i.slice(b,+f+1||9e9);for(h in k)j=k[h],"0"===h?this.views.push(e=new this.rowClass({rowspan:f-b+1,"class":["even","odd"][c%2],continuing:0!==b,input:[g],model:j})):this.views.push(e=new this.rowClass({model:j})),d.append(e.render().el);return c++}))},c}(j),e=function(a){function c(){return q=c.__super__.constructor.apply(this,arguments)}return s(c,a),c.prototype.template=b("../templates/table/many-to-one-row"),c}(i),f=function(a){function c(){c.__super__.constructor.apply(this,arguments),this.pagin=new h({total:this.collection.length}),l.on("page:change",function(a,b,c){return a===this.pagin.cid?this.renderPage.call(this,b,c-1):void 0},this)}return s(c,a),c.prototype.template=b("../templates/table/table"),c.prototype.rowClass=e,c.prototype.render=function(){return this.el.html(this.template()),this.el.find(".paginator").html(this.pagin.render().el),this},c.prototype.renderPage=function(a,b){var c,d,e,f,g,h,i,j,k,l;for(d=this.el.find("tbody"),this.range=[a,b],j=this.views,f=0,h=j.length;h>f;f++)e=j[f],e.dispose();for(k=this.collection.slice(a,+b+1||9e9),l=[],g=0,i=k.length;i>g;g++)c=k[g],this.views.push(e=new this.rowClass({model:c})),l.push(d.append(e.render().el));return l},c}(j),a.TableRowView=i,a.OtMTableView=g,a.MtOTableView=f}),b.require.register("component-400/src/views/tooltip.js",function(a,b,c){var d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=b("../modules/view"),f=b("../models/tooltips"),d=function(a){function c(){c.__super__.constructor.apply(this,arguments),this.model.text=f[this.model.id],this.el.addClass("tooltip tip-top noradius")}return h(c,a),c.prototype.tag="span",c.prototype.template=b("../templates/tooltip"),c}(e),c.exports=d}),b.require.register("component-400/src/views/unresolved.js",function(a,b,c){var d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=b("../modules/view"),d=function(a){function c(){return f=c.__super__.constructor.apply(this,arguments)}return h(c,a),c.prototype.template=b("../templates/unresolved"),c.prototype.render=function(){return this.el.addClass("unresolved section"),c.__super__.render.apply(this,arguments)},c}(e),c.exports=d})}();var c=b.require("component-400/src/app.js");"undefined"!=typeof define&&define.amd?define("component-400",[],function(){return c}):"undefined"!=typeof module&&module.exports?module.exports=c:b["component-400"]=c,b.require.alias("component-400/src/app.js","component-400/index.js")}();