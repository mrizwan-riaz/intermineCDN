(function(){var t,e,r,n,i,o,c=function(t,e){return function(){return t.apply(e,arguments)}};if(e=this,i="undefined"!=typeof process&&process.nextTick?"undefined"!=typeof setImmediate?setImmediate:process.nextTick:"function"==typeof setImmediate?setImmediate:function(t){return setTimeout(t,0)},r=function(t,e){var r,n,i;if(t.forEach)return t.forEach(e);i=[];for(r in t)n=t[r],i.push(e(n,r,t));return i},n=function(t){return r(Array.prototype.slice.call(arguments,1),function(e){var r,n;if(e){n=[];for(r in e)n.push(t[r]=e[r]);return n}}),t},o=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e;return e=0|16*Math.random(),("x"===t?e:8|3&e).toString(16)})},e=this,t=function(){function t(t){this.load=c(this.load,this);var r,n=this;this.server=t.replace(/\/+$/,""),r="rwc"+ +new Date,e[r]=function(t){n.config=t},e.intermine.load([{path:""+this.server+"/widget/report?callback="+r,type:"js"}])}return t.prototype.selectorPrefix="w",t.prototype.load=function(t,r,c){var a,u,s,f=this;return null==c&&(c={}),a=function(){return f.load(t,r,c)},this.config?(s=function(){var i;return i=o(),e.intermine.load([{path:""+f.server+"/widget/report/"+t+"?callback="+i,type:"js"}],function(){var o;return $(r).html($("<div/>",{id:"w"+i,html:$("<article/>",{"class":"im-report-widget "+t})})),o=e.intermine.temp.widgets[i],o.config=n(o.config,c),o.render("#w"+i+" article.im-report-widget")})},u=this.config[t],null!=u?e.intermine.load(u,s):s()):i(a)},t}(),!e.intermine)throw"You need to include the InterMine API Loader first!";e.intermine.reportWidgets=e.intermine.reportWidgets||t}).call(this);